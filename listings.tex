% ============================================================================
% CODE LISTING CONFIGURATION
% ============================================================================
% Settings for displaying code blocks and programming language syntax.
% Requires: xcolor package (for syntax highlighting colors)

% Verify xcolor is loaded (needed for color in language definitions)
\makeatletter
\@ifpackageloaded{xcolor}{}{%
  \PackageError{listings}{xcolor package required}{%
    This file requires the xcolor package to be loaded first for syntax highlighting.%
  }%
}
\makeatother

% Code listing package
\usepackage{listings}

% Syntax highlighting colors
\definecolor{code-keyword}{rgb}{0.13,0.13,1}
\definecolor{code-comment}{rgb}{0,0.6,0}
\definecolor{code-string}{rgb}{0.58,0,0.82}
\definecolor{code-number}{rgb}{0.68,0.13,0.13}
\definecolor{code-gray}{rgb}{0.5,0.5,0.5}
\definecolor{code-background}{rgb}{0.97,0.97,0.97}

% Configure listings for code blocks
\lstset{
    basicstyle=\ttfamily\small,
    breaklines=true,
    breakatwhitespace=true,
    columns=flexible,
    keepspaces=true,
    % Syntax highlighting
    keywordstyle=\color{code-keyword}\bfseries,
    commentstyle=\color{code-comment}\itshape,
    stringstyle=\color{code-string},
    % Line numbers
    numbers=left,
    numberstyle=\tiny\color{code-gray},
    numbersep=8pt,
    % Frame and background
    frame=single,
    framerule=0.4pt,
    backgroundcolor=\color{code-background},
    % Spacing
    aboveskip=1em,
    belowskip=1em,
    xleftmargin=2em,
    framexleftmargin=1.5em,
    % String handling
    showstringspaces=false
}

% Define json language for listings (simple definition)
\lstdefinelanguage{json}{
    basicstyle=\ttfamily\small,
    showstringspaces=false,
    breaklines=true,
    frame=single,
    literate=
        *{0}{{{\color{black}0}}}{1}
        {1}{{{\color{black}1}}}{1}
        {2}{{{\color{black}2}}}{1}
        {3}{{{\color{black}3}}}{1}
        {4}{{{\color{black}4}}}{1}
        {5}{{{\color{black}5}}}{1}
        {6}{{{\color{black}6}}}{1}
        {7}{{{\color{black}7}}}{1}
        {8}{{{\color{black}8}}}{1}
        {9}{{{\color{black}9}}}{1}
}
